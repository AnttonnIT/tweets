"use strict";(self.webpackChunktweets=self.webpackChunktweets||[]).push([[562],{141:function(n,e,t){t.r(e),t.d(e,{default:function(){return fn}});var r,i,o,l,a,s,c,d,u,f=t(439),p=t(526),x=t(168),g=t(402),h=g.Z.div(r||(r=(0,x.Z)(["\n  display: flex;\n  justify-content: space-between;\n\n  padding: 20px 75px;\n"]))),v=t.p+"static/media/cardImage.b3d9942b3f9d5dad1ff0.png",w=g.Z.div(i||(i=(0,x.Z)(["\n  position: relative;\n\n  width: 100%;\n  height: 100%;\n  border-radius: 20px;\n\n  background: linear-gradient(\n    114.99deg,\n    #471ca9 -0.99%,\n    #5736a3 54.28%,\n    #4b2a99 78.99%\n  );\n  box-shadow: -2.5777px 6.87386px 20.6216px rgba(0, 0, 0, 0.23);\n"]))),b=g.Z.div(o||(o=(0,x.Z)(["\n  position: relative;\n\n  height: 222px;\n  padding: 28px 36px 18px 36px;\n\n  &::after {\n    content: '';\n    display: block;\n\n    position: absolute;\n    bottom: 0;\n    right: 0;\n\n    width: 100%;\n    height: 8px;\n\n    background: #ebd8ff;\n    box-shadow: 0px 3.43693px 3.43693px rgba(0, 0, 0, 0.06),\n      inset 0px -1.71846px 3.43693px #ae7be3,\n      inset 0px 3.43693px 2.5777px #fbf8ff;\n  }\n"]))),Z=g.Z.div(l||(l=(0,x.Z)(["\n  width: 100%;\n  height: 100%;\n\n  background-image: url(",");\n  background-repeat: no-repeat;\n"])),v),j=g.Z.svg(a||(a=(0,x.Z)(["\n  position: absolute;\n  top: 20px;\n  left: 20px;\n\n  width: 76px;\n  height: 22px;\n\n  background: rgba(255, 255, 255, 0.3);\n"]))),m=g.Z.div(s||(s=(0,x.Z)(["\n  padding: 62px 36px 36px 36px;\n"]))),k=g.Z.div(c||(c=(0,x.Z)(["\n  position: absolute;\n  top: 214px;\n  right: 50%;\n\n  width: 80px;\n  height: 80px;\n  margin: 0;\n\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  border-radius: 50%;\n\n  transform: translate(50%, -50%);\n\n  background: #ebd8ff;\n  box-shadow: 0px 4.39163px 4.39163px rgba(0, 0, 0, 0.06),\n    inset 0px -2.19582px 4.39163px #ae7be3,\n    inset 0px 4.39163px 3.29372px #fbf8ff;\n"]))),S=g.Z.img(d||(d=(0,x.Z)(["\n  width: 62px;\n  height: 62px;\n\n  border-radius: 50%;\n"]))),y=g.Z.ul(u||(u=(0,x.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 16px;\n\n  line-height: 1.2;\n  text-transform: uppercase;\n  color: #ebd8ff;\n\n  text-align: center;\n"]))),C=t(791);var F,I=t.p+"static/media/sprite.a8208f8c3d72cf51c44a0f94b3a51be6.svg",J=(0,g.Z)(p.zx)(F||(F=(0,x.Z)(["\n  background-color: ",";\n"])),(function(n){return n.background?"#5CD3A8":"#EBD8FF"})),N=t(184);function O(n){var e=n.handleClick,t=n.following,r=n.onClick;return(0,N.jsx)(J,{type:"button",onClick:function(){e(),r()},background:t,children:t?"Following":"Follow"})}var L,z,M=t(433);function U(n){var e=n.user,t=n.onClick,r=function(n){var e=(0,C.useState)(!1),t=(0,f.Z)(e,2),r=t[0],i=t[1];return(0,C.useEffect)((function(){var e=JSON.parse(localStorage.getItem("following")),t=null===e||void 0===e?void 0:e.some((function(e){return e.id===n.id}));i(t)}),[n.id]),{handleFollowClick:function(){var e=JSON.parse(localStorage.getItem("following")),t=null===e||void 0===e?void 0:e.some((function(e){return e.id===n.id}));if(e)if(t){var r=e.filter((function(e){return e.id!==n.id}));localStorage.setItem("following",JSON.stringify(r)),i(!1)}else localStorage.setItem("following",JSON.stringify([].concat((0,M.Z)(e),[n]))),i(!0);else localStorage.setItem("following",JSON.stringify([n])),i(!0)},isFollowing:r}}(e),i=r.isFollowing,o=r.handleFollowClick,l=e.avatar,a=e.name,s=e.tweets,c=e.followers;return(0,N.jsxs)(w,{children:[(0,N.jsx)(b,{children:(0,N.jsx)(Z,{children:(0,N.jsx)(j,{children:(0,N.jsx)("use",{href:"".concat(I,"#icon-logo")})})})}),(0,N.jsxs)(m,{children:[(0,N.jsx)(k,{children:(0,N.jsx)(S,{src:l,alt:a})}),(0,N.jsxs)(y,{children:[(0,N.jsx)("li",{children:(0,N.jsxs)("p",{children:[s," tweets"]})}),(0,N.jsx)("li",{children:(0,N.jsxs)("p",{children:[(c+i).toLocaleString()," followers"]})})]}),(0,N.jsx)(O,{handleClick:o,onClick:t,following:i})]})]})}var E,B=g.Z.ul(L||(L=(0,x.Z)(["\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n  row-gap: 30px;\n"]))),D=g.Z.li(z||(z=(0,x.Z)(["\n  width: 380px;\n  height: 460px;\n"]))),P=(0,g.Z)(p.zx)(E||(E=(0,x.Z)(["\n  margin-bottom: 15px;\n  background-color: #5cd3a8;\n"])));function R(n){var e=n.onClick,t=n.isLoading;return(0,N.jsx)(P,{disabled:t,onClick:e,children:t?"Loading...":"Load more"})}var T=t(557),q=t(861),A=t(687),G=t.n(A),H=t(243);H.Z.defaults.baseURL="https://640b0cdb81d8a32198d814ca.mockapi.io/";var W=new URLSearchParams({limit:3}),K=function(){var n=(0,q.Z)(G().mark((function n(){var e,t,r,i=arguments;return G().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=i.length>0&&void 0!==i[0]?i[0]:1,n.prev=1,n.next=4,H.Z.get("/users?".concat(W,"&page=").concat(e));case 4:return t=n.sent,r=t.data,n.abrupt("return",r);case 9:n.prev=9,n.t0=n.catch(1),console.log(n.t0.message);case 12:case"end":return n.stop()}}),n,null,[[1,9]])})));return function(){return n.apply(this,arguments)}}();var Q=function(n,e,t){switch(n){case"show all":return e;case"follow":return e.filter((function(n){return!(null!==t&&void 0!==t&&t.some((function(e){return e.id===n.id})))}));case"followings":return t;default:return[]}};function V(n){var e=n.filter,t=function(n){var e=(0,C.useState)([]),t=(0,f.Z)(e,2),r=t[0],i=t[1],o=(0,C.useState)(!1),l=(0,f.Z)(o,2),a=l[0],s=l[1],c=(0,C.useState)(!0),d=(0,f.Z)(c,2),u=d[0],p=d[1],x=(0,C.useState)(1),g=(0,f.Z)(x,2),h=g[0],v=g[1];return(0,C.useEffect)((function(){if(u){var n=function(){var n=(0,q.Z)(G().mark((function n(){var e;return G().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,s(!0),n.next=4,K(h);case 4:(e=n.sent).length<3&&p(!1),i((function(n){return[].concat((0,M.Z)(n),(0,M.Z)(e))})),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),console.log(n.t0);case 12:return n.prev=12,s(!1),n.finish(12);case 15:case"end":return n.stop()}}),n,null,[[0,9,12,15]])})));return function(){return n.apply(this,arguments)}}();n()}}),[u,h]),{filteredUsers:(0,C.useMemo)((function(){var e=JSON.parse(localStorage.getItem("following"));return"show all"===n?r:"follow"===n?r.filter((function(n){return!e.some((function(e){return e.id===n.id}))})):"followings"===n?e:void 0}),[n,r]),loading:a,loadMore:function(){v((function(n){return n+1}))},hasMore:u}}(e),r=t.filteredUsers,i=t.loading,o=t.hasMore,l=t.loadMore,a=(0,C.useState)(JSON.parse(localStorage.getItem("following"))),s=(0,f.Z)(a,2),c=s[0],d=s[1],u=function(){d(JSON.parse(localStorage.getItem("following")))};return(0,N.jsxs)(N.Fragment,{children:[i&&(0,N.jsx)(T.a,{}),(0,N.jsx)(B,{children:Q(e,r,c).map((function(n){return(0,N.jsx)(D,{children:(0,N.jsx)(U,{user:n,onClick:u})},n.id)}))}),o&&"followings"!==e&&(0,N.jsx)(R,{onClick:l,isLoading:i})]})}var X,Y,$,_,nn,en=t(689),tn=t(134),rn=t(87),on=(0,g.Z)(rn.rU)(X||(X=(0,x.Z)(["\n  text-decoration: none;\n  font-weight: 500;\n\n  display: inline-flex;\n  align-items: center;\n  gap: 4px;\n\n  transition: color 250ms linear;\n  :hover,\n  :focus {\n    color: orangered;\n  }\n"]))),ln=function(){var n,e,t=null!==(n=null===(e=(0,en.TH)().state)||void 0===e?void 0:e.from)&&void 0!==n?n:"/";return(0,N.jsxs)(on,{to:t,children:[(0,N.jsx)(tn.kyg,{}),"Go Back"]})},an=g.Z.div(Y||(Y=(0,x.Z)(["\n  font-size: 16px;\n\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n"]))),sn=g.Z.label($||($=(0,x.Z)(["\n  margin-right: 10px;\n"]))),cn=g.Z.select(_||(_=(0,x.Z)(["\n  font-size: 16px;\n  padding: 5px;\n\n  border-radius: 5px;\n  border: 1px solid #ccc;\n  outline: none;\n\n  cursor: pointer;\n"]))),dn=g.Z.option(nn||(nn=(0,x.Z)(["\n  font-size: 16px;\n"])));function un(n){var e=n.filter,t=n.handleFilterChange;return(0,N.jsx)(an,{children:(0,N.jsxs)(sn,{children:["Filter:",(0,N.jsxs)(cn,{id:"filter-select",value:e,onChange:t,children:[(0,N.jsx)(dn,{value:"show all",children:"Show all"}),(0,N.jsx)(dn,{value:"follow",children:"Follow"}),(0,N.jsx)(dn,{value:"followings",children:"Followings"})]})]})})}function fn(){var n=(0,C.useState)("show all"),e=(0,f.Z)(n,2),t=e[0],r=e[1];return(0,N.jsx)("section",{children:(0,N.jsxs)(p.W2,{children:[(0,N.jsx)(p.qp,{children:"TweetsPage"}),(0,N.jsxs)(h,{children:[(0,N.jsx)(ln,{}),(0,N.jsx)(un,{filter:t,handleFilterChange:function(n){r(n.target.value)}})]}),(0,N.jsx)(V,{filter:t})]})})}}}]);
//# sourceMappingURL=562.24862272.chunk.js.map